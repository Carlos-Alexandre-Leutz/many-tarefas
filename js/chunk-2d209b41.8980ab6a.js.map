{"version":3,"sources":["webpack:///./src/views/usuarios/Usuarios.vue","webpack:///./src/views/usuarios/Usuarios.vue?e6df"],"names":["class","data-edit","title","to","default","headerColumns","hColumns","items","componentePaginacao","pathPaginaAtual","action","onEdit","table-header-actions","table-actions","fallback","setup","router","itemSelected","key","label","e","target","dataset","edit","console","log","item","id","push","registroTarefa","descricaoItemSelected","nome","fire","icon","confirmButtonText","text","showCancelButton","cancelButtonText","then","response","isConfirmed","itemExcluzao","dataLocalStorageTarefa","localStorage","getItem","tarefas","JSON","parse","forEach","tarefa","atribuidaPara","dataLocalStorageUsuarios","usuarios","usuario","indexGrid","indexOf","value","splice","stringfy","stringify","setItem","components","Table","__exports__","render"],"mappings":"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","file":"js/chunk-2d209b41.8980ab6a.js","sourcesContent":["<template>\r\n  <div class=\"d-flex flex-column col-11 m-auto\">\r\n    <div class=\"col-2\">\r\n      <router-link\r\n        title=\"Adicionar novo usuário\"\r\n        class=\"ml-auto m-1 btn btn-sm btn-primary\"\r\n        to=\"/usuario/novo\"\r\n        >Adicionar</router-link\r\n      >\r\n    </div>\r\n    <div class=\"card shadow\">\r\n      <div class=\"card-header\">Usuário</div>\r\n      <div class=\"card-body\">\r\n        <Suspense>\r\n          <template #default>\r\n            <Table\r\n              class=\"table-borderless table-striped\"\r\n              :headerColumns=\"hColumns\"\r\n              :items=\"items\"\r\n              :componentePaginacao=\"componentePaginacao\"\r\n              pathPaginaAtual=\"cargo\"\r\n              action=\"true\"\r\n              @on-action-click=\"onEdit\"\r\n            >\r\n              <template v-slot:table-header-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  Ações\r\n                </div>\r\n              </template>\r\n              <template v-slot:table-actions>\r\n                <div\r\n                  class=\"\r\n                    d-flex\r\n                    flex-center\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                >\r\n                  <button\r\n                    data-edit=\"2\"\r\n                    class=\"btn btn-sm btn-primary\"\r\n                    title=\"Visualizar\"\r\n                  >\r\n                    <i data-edit=\"2\" class=\"fas fa-eye\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Editar\"\r\n                    data-edit=\"1\"\r\n                    class=\"btn btn-sm btn-warning mr-2\"\r\n                  >\r\n                    <i data-edit=\"1\" class=\"fas fa-edit\"></i>\r\n                  </button>\r\n                  <button\r\n                    title=\"Excluir\"\r\n                    data-edit=\"0\"\r\n                    class=\"btn btn-sm btn-danger\"\r\n                  >\r\n                    <i data-edit=\"0\" class=\"fas fa-trash-alt\"></i>\r\n                  </button>\r\n                </div>\r\n              </template>\r\n            </Table>\r\n          </template>\r\n          <template #fallback> caregando tabela </template>\r\n        </Suspense>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Table from \"../../components/Table/Table.vue\";\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport Swal from \"sweetalert2\";\r\nexport default {\r\n  setup() {\r\n    let router = useRouter();\r\n    let items = ref(null);\r\n    let itemSelected = ref(null);\r\n    let componentePaginacao = ref(null);\r\n    let hColumns = ref([\r\n      {\r\n        key: \"nome\",\r\n        label: \"Nome\",\r\n      },\r\n    ]);\r\n\r\n    const onEdit = (e) => {\r\n      if (!e || !e.target || !e.target.dataset) {\r\n        console.log(\"Objeto Errado\");\r\n        return;\r\n      }\r\n      if (e.target.dataset.edit == 1) {\r\n        console.log(\"Editar\", e.item.id);\r\n        router.push(\"/usuario/editar/\" + e.item.id);\r\n      }\r\n      if (e.target.dataset.edit == 2) {\r\n        router.push(\"/usuario/visualizar/\" + e.item.id + \"/visualizar\");\r\n      }\r\n      if (e.target.dataset.edit == 0) {\r\n        itemSelected = e.item.id;\r\n        let registroTarefa = false;\r\n        let descricaoItemSelected = e.item.nome;\r\n        Swal.fire({\r\n          icon: \"question\",\r\n          title: `Deseja excluir`,\r\n          confirmButtonText: `Sim`,\r\n          text: `O item \"${descricaoItemSelected}\"?`,\r\n          showCancelButton: true,\r\n          cancelButtonText: `Cancelar`,\r\n        }).then((response) => {\r\n          if (response.isConfirmed) {\r\n            let itemExcluzao = itemSelected;\r\n            let dataLocalStorageTarefa = localStorage.getItem(\r\n              \"dataLocalStorageTarefa\"\r\n            );\r\n            if (dataLocalStorageTarefa) {\r\n                           let tarefas = JSON.parse(dataLocalStorageTarefa);\r\n              tarefas.forEach((tarefa) => {\r\n                console.log(tarefa.atribuidaPara, itemExcluzao);\r\n                if (tarefa.atribuidaPara == itemExcluzao) {\r\n                  registroTarefa = true;\r\n                }\r\n              });\r\n            }\r\n            if (!registroTarefa) {\r\n              let dataLocalStorageUsuarios = localStorage.getItem(\r\n                \"dataLocalStorageUsuario\"\r\n              );\r\n              let usuarios = JSON.parse(dataLocalStorageUsuarios);\r\n\r\n              usuarios.forEach((usuario) => {\r\n                if (usuario.id == itemExcluzao) {\r\n                  let indexGrid = usuarios.indexOf(usuario);\r\n                  items.value.splice(indexGrid, 1);\r\n                  let stringfy = JSON.stringify(items.value);\r\n                  localStorage.setItem(\"dataLocalStorageUsuario\", stringfy);\r\n                }\r\n              });\r\n              Swal.fire({\r\n                icon: \"success\",\r\n                title: `Concluído`,\r\n                text: `O Item \"${descricaoItemSelected}\" foi excluído`,\r\n              });\r\n              registroTarefa = false;\r\n            } else {\r\n              Swal.fire({\r\n                icon: \"warning\",\r\n                title: `Atenção`,\r\n                text: `O usuário \"${descricaoItemSelected}\" não pode ser excluído pois ja possui tarefas cadastradas.`,\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n    };\r\n\r\n    onMounted(async () => {\r\n      let dataLocalStorageUsuarios = localStorage.getItem(\r\n        \"dataLocalStorageUsuario\"\r\n      );\r\n      let usuarios = JSON.parse(dataLocalStorageUsuarios);\r\n      items.value = usuarios;\r\n    });\r\n    return {\r\n      items,\r\n      componentePaginacao,\r\n      hColumns,\r\n      onEdit,\r\n    };\r\n  },\r\n  components: {\r\n    Table,\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Usuarios.vue?vue&type=template&id=1343b40b\"\nimport script from \"./Usuarios.vue?vue&type=script&lang=js\"\nexport * from \"./Usuarios.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Documents\\\\GitHub\\\\vue-firebase-auth\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}